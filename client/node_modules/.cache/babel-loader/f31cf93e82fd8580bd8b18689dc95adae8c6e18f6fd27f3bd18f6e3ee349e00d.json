{"ast":null,"code":"import React from'react';import{NavLink}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{HomeIcon,DocumentDuplicateIcon,PlusCircleIcon,UserCircleIcon,Cog6ToothIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TabBar=()=>{const{user}=useAuth();const isAdmin=(user===null||user===void 0?void 0:user.role)==='admin';// Check if a path is active with custom logic\nconst isPathActive=path=>{const currentPath=window.location.pathname;// New ticket route should only match exactly\nif(path==='/tickets/new'){return currentPath==='/tickets/new';}// Tickets route should not match if we're on the new ticket page\nif(path==='/tickets'){return currentPath.startsWith('/tickets')&&currentPath!=='/tickets/new';}// For other routes, use simple matching\nreturn currentPath===path||path!=='/'&&currentPath.startsWith(path);};// Tabs for non-admin users\nconst tabs=[{name:'Ana Sayfa',to:'/',icon:HomeIcon},{name:'Destek Kayıtları',to:'/tickets',icon:DocumentDuplicateIcon},{name:'Yeni Kayıt',to:'/tickets/new',exact:true,icon:PlusCircleIcon},{name:'Profil',to:'/profile',icon:UserCircleIcon}];// Additional tab for admin users\nconst adminTab={name:'Yönetim',to:'/admin',icon:Cog6ToothIcon};// If admin, insert the admin tab before the profile tab\nconst finalTabs=isAdmin?[...tabs.slice(0,3),adminTab,tabs[3]]:tabs;return/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 py-3\",style:{position:'fixed',bottom:0,width:'100%',borderTopWidth:'1px',borderTopColor:'#E5E7EB',boxShadow:'0 -2px 10px rgba(0,0,0,0.05)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-evenly items-center max-w-md mx-auto px-2\",children:finalTabs.map(tab=>/*#__PURE__*/_jsx(NavLink,{to:tab.to,className:()=>{const active=isPathActive(tab.to);return`flex flex-col items-center justify-center py-2 px-1 rounded-md w-full ${active?'text-primary':'text-gray-600'}`;},children:()=>{const active=isPathActive(tab.to);return/*#__PURE__*/_jsxs(\"div\",{className:`flex flex-col items-center transition duration-200 ${active?'scale-110':''}`,children:[/*#__PURE__*/_jsx(tab.icon,{className:`h-7 w-7 transition-colors duration-200 ${active?'text-primary':'text-gray-500'}`,\"aria-hidden\":\"true\"}),active&&/*#__PURE__*/_jsx(\"div\",{className:\"h-1 w-5 bg-primary rounded-t-full mt-1\"})]});}},tab.name))})});};export default TabBar;","map":{"version":3,"names":["React","NavLink","useAuth","HomeIcon","DocumentDuplicateIcon","PlusCircleIcon","UserCircleIcon","Cog6ToothIcon","jsx","_jsx","jsxs","_jsxs","TabBar","user","isAdmin","role","isPathActive","path","currentPath","window","location","pathname","startsWith","tabs","name","to","icon","exact","adminTab","finalTabs","slice","className","style","position","bottom","width","borderTopWidth","borderTopColor","boxShadow","children","map","tab","active"],"sources":["/Users/gurkanaltay/Desktop/projects/support.iesyazilim.com.tr/client/src/components/navigation/TabBar.js"],"sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport {\n  HomeIcon,\n  DocumentDuplicateIcon,\n  PlusCircleIcon,\n  UserCircleIcon,\n  Cog6ToothIcon\n} from '@heroicons/react/24/outline';\n\nconst TabBar = () => {\n  const { user } = useAuth();\n  const isAdmin = user?.role === 'admin';\n\n  // Check if a path is active with custom logic\n  const isPathActive = (path) => {\n    const currentPath = window.location.pathname;\n    \n    // New ticket route should only match exactly\n    if (path === '/tickets/new') {\n      return currentPath === '/tickets/new';\n    }\n    \n    // Tickets route should not match if we're on the new ticket page\n    if (path === '/tickets') {\n      return currentPath.startsWith('/tickets') && currentPath !== '/tickets/new';\n    }\n    \n    // For other routes, use simple matching\n    return currentPath === path || (path !== '/' && currentPath.startsWith(path));\n  };\n\n  // Tabs for non-admin users\n  const tabs = [\n    { name: 'Ana Sayfa', to: '/', icon: HomeIcon },\n    { name: 'Destek Kayıtları', to: '/tickets', icon: DocumentDuplicateIcon },\n    { name: 'Yeni Kayıt', to: '/tickets/new', exact: true, icon: PlusCircleIcon },\n    { name: 'Profil', to: '/profile', icon: UserCircleIcon },\n  ];\n\n  // Additional tab for admin users\n  const adminTab = { name: 'Yönetim', to: '/admin', icon: Cog6ToothIcon };\n\n  // If admin, insert the admin tab before the profile tab\n  const finalTabs = isAdmin \n    ? [...tabs.slice(0, 3), adminTab, tabs[3]] \n    : tabs;\n\n  return (\n    <div className=\"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 py-3\" style={{ position: 'fixed', bottom: 0, width: '100%', borderTopWidth: '1px', borderTopColor: '#E5E7EB', boxShadow: '0 -2px 10px rgba(0,0,0,0.05)' }}>\n      <div className=\"flex justify-evenly items-center max-w-md mx-auto px-2\">\n        {finalTabs.map((tab) => (\n          <NavLink\n            key={tab.name}\n            to={tab.to}\n            className={() => {\n              const active = isPathActive(tab.to);\n              return `flex flex-col items-center justify-center py-2 px-1 rounded-md w-full ${active ? 'text-primary' : 'text-gray-600'}`;\n            }}\n          >\n            {() => {\n              const active = isPathActive(tab.to);\n              \n              return (\n                <div className={`flex flex-col items-center transition duration-200 ${active ? 'scale-110' : ''}`}>\n                  <tab.icon \n                    className={`h-7 w-7 transition-colors duration-200 ${active ? 'text-primary' : 'text-gray-500'}`} \n                    aria-hidden=\"true\" \n                  />\n                  {active && <div className=\"h-1 w-5 bg-primary rounded-t-full mt-1\"></div>}\n                </div>\n              );\n            }}\n          </NavLink>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default TabBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}