{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useFormik}from'formik';import*as Yup from'yup';import{toast}from'react-toastify';import PageHeader from'../../components/ui/PageHeader';import Card from'../../components/ui/Card';import Alert from'../../components/ui/Alert';import Spinner from'../../components/ui/Spinner';import categoryService from'../../services/categoryService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateCategory=()=>{const navigate=useNavigate();const[loading,setLoading]=useState(false);const[error,setError]=useState(null);// Default colors from corporate identity\nconst colorOptions=[{name:'Ana Mavi',value:'#3A7BD5'},{name:'Yeşil',value:'#61C28C'},{name:'Turuncu',value:'#FFA84B'},{name:'Kırmızı',value:'#E05A5A'}];// Form validation schema\nconst validationSchema=Yup.object({name:Yup.string().required('Kategori adı zorunludur'),color:Yup.string().matches(/^#([0-9A-F]{6})$/i,'Geçerli bir hex renk kodu giriniz (#RRGGBB)').required('Renk seçimi zorunludur')});// Initialize formik\nconst formik=useFormik({initialValues:{name:'',description:'',color:'#3A7BD5'// Default primary color\n},validationSchema,onSubmit:async values=>{try{setLoading(true);setError(null);// Create category\nawait categoryService.createCategory(values);// Show success message\ntoast.success('Kategori başarıyla oluşturuldu.');// Navigate to category list\nnavigate('/categories');}catch(err){console.error('Error creating category:',err);setError('Kategori oluşturulurken bir hata oluştu.');}finally{setLoading(false);}}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PageHeader,{title:\"Yeni Kategori\",description:\"Yeni bir kategori olu\\u015Fturun\",breadcrumbItems:[{label:'Kategoriler',to:'/categories'},{label:'Yeni Kategori'}]}),/*#__PURE__*/_jsxs(Card,{className:\"mt-6\",children:[error&&/*#__PURE__*/_jsx(Alert,{type:\"error\",message:error,onClose:()=>setError(null),className:\"mb-6\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-6 sm:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"block text-sm font-medium text-gray-700\",children:\"Kategori Ad\\u0131 *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",className:`form-input mt-1 ${formik.touched.name&&formik.errors.name?'border-red-300 focus:ring-red-500':''}`,value:formik.values.name,onChange:formik.handleChange,onBlur:formik.handleBlur}),formik.touched.name&&formik.errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:formik.errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-sm font-medium text-gray-700\",children:\"A\\xE7\\u0131klama\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",rows:3,className:\"form-input mt-1\",value:formik.values.description,onChange:formik.handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Renk *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex flex-wrap gap-3\",children:[colorOptions.map(color=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:`p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary ${formik.values.color===color.value?'ring-2 ring-offset-2 ring-primary':''}`,onClick:()=>formik.setFieldValue('color',color.value),children:/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 rounded-full\",style:{backgroundColor:color.value},title:color.name})},color.value)),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"color\",id:\"color\",name:\"color\",value:formik.values.color,onChange:formik.handleChange,className:\"h-8 w-8 rounded-full cursor-pointer\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-700\",children:formik.values.color})]})]}),formik.touched.color&&formik.errors.color&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:formik.errors.color})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline\",onClick:()=>navigate('/categories'),children:\"\\u0130ptal\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading||!formik.isValid,children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Spinner,{size:\"sm\",color:\"white\",className:\"mr-2\"}),\" Kaydediliyor...\"]}):'Kaydet'})]})]})]})]});};export default CreateCategory;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useFormik","Yup","toast","PageHeader","Card","Alert","Spinner","categoryService","jsx","_jsx","jsxs","_jsxs","CreateCategory","navigate","loading","setLoading","error","setError","colorOptions","name","value","validationSchema","object","string","required","color","matches","formik","initialValues","description","onSubmit","values","createCategory","success","err","console","children","title","breadcrumbItems","label","to","className","type","message","onClose","handleSubmit","htmlFor","id","touched","errors","onChange","handleChange","onBlur","handleBlur","rows","map","onClick","setFieldValue","style","backgroundColor","disabled","isValid","size"],"sources":["/Users/gurkanaltay/Desktop/projects/support.iesyazilim.com.tr/client/src/pages/categories/CreateCategory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { toast } from 'react-toastify';\nimport PageHeader from '../../components/ui/PageHeader';\nimport Card from '../../components/ui/Card';\nimport Alert from '../../components/ui/Alert';\nimport Spinner from '../../components/ui/Spinner';\nimport categoryService from '../../services/categoryService';\n\nconst CreateCategory = () => {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  \n  // Default colors from corporate identity\n  const colorOptions = [\n    { name: 'Ana Mavi', value: '#3A7BD5' },\n    { name: 'Yeşil', value: '#61C28C' },\n    { name: 'Turuncu', value: '#FFA84B' },\n    { name: 'Kırmızı', value: '#E05A5A' }\n  ];\n\n  // Form validation schema\n  const validationSchema = Yup.object({\n    name: Yup.string().required('Kategori adı zorunludur'),\n    color: Yup.string()\n      .matches(/^#([0-9A-F]{6})$/i, 'Geçerli bir hex renk kodu giriniz (#RRGGBB)')\n      .required('Renk seçimi zorunludur')\n  });\n\n  // Initialize formik\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      description: '',\n      color: '#3A7BD5', // Default primary color\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        setLoading(true);\n        setError(null);\n        \n        // Create category\n        await categoryService.createCategory(values);\n        \n        // Show success message\n        toast.success('Kategori başarıyla oluşturuldu.');\n        \n        // Navigate to category list\n        navigate('/categories');\n      } catch (err) {\n        console.error('Error creating category:', err);\n        setError('Kategori oluşturulurken bir hata oluştu.');\n      } finally {\n        setLoading(false);\n      }\n    }\n  });\n\n  return (\n    <div>\n      <PageHeader\n        title=\"Yeni Kategori\"\n        description=\"Yeni bir kategori oluşturun\"\n        breadcrumbItems={[\n          { label: 'Kategoriler', to: '/categories' },\n          { label: 'Yeni Kategori' }\n        ]}\n      />\n\n      <Card className=\"mt-6\">\n        {error && (\n          <Alert\n            type=\"error\"\n            message={error}\n            onClose={() => setError(null)}\n            className=\"mb-6\"\n          />\n        )}\n\n        <form onSubmit={formik.handleSubmit} className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\n            <div className=\"sm:col-span-2\">\n              <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">\n                Kategori Adı *\n              </label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                name=\"name\"\n                className={`form-input mt-1 ${\n                  formik.touched.name && formik.errors.name\n                    ? 'border-red-300 focus:ring-red-500'\n                    : ''\n                }`}\n                value={formik.values.name}\n                onChange={formik.handleChange}\n                onBlur={formik.handleBlur}\n              />\n              {formik.touched.name && formik.errors.name && (\n                <p className=\"mt-1 text-sm text-red-600\">{formik.errors.name}</p>\n              )}\n            </div>\n\n            <div className=\"sm:col-span-2\">\n              <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700\">\n                Açıklama\n              </label>\n              <textarea\n                id=\"description\"\n                name=\"description\"\n                rows={3}\n                className=\"form-input mt-1\"\n                value={formik.values.description}\n                onChange={formik.handleChange}\n              />\n            </div>\n\n            <div className=\"sm:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Renk *\n              </label>\n              <div className=\"mt-2 flex flex-wrap gap-3\">\n                {colorOptions.map((color) => (\n                  <button\n                    key={color.value}\n                    type=\"button\"\n                    className={`p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary ${\n                      formik.values.color === color.value\n                        ? 'ring-2 ring-offset-2 ring-primary'\n                        : ''\n                    }`}\n                    onClick={() => formik.setFieldValue('color', color.value)}\n                  >\n                    <div\n                      className=\"h-8 w-8 rounded-full\"\n                      style={{ backgroundColor: color.value }}\n                      title={color.name}\n                    ></div>\n                  </button>\n                ))}\n                \n                <div className=\"flex items-center\">\n                  <input\n                    type=\"color\"\n                    id=\"color\"\n                    name=\"color\"\n                    value={formik.values.color}\n                    onChange={formik.handleChange}\n                    className=\"h-8 w-8 rounded-full cursor-pointer\"\n                  />\n                  <span className=\"ml-2 text-sm text-gray-700\">\n                    {formik.values.color}\n                  </span>\n                </div>\n              </div>\n              {formik.touched.color && formik.errors.color && (\n                <p className=\"mt-1 text-sm text-red-600\">{formik.errors.color}</p>\n              )}\n            </div>\n          </div>\n\n          <div className=\"flex justify-end space-x-3\">\n            <button\n              type=\"button\"\n              className=\"btn btn-outline\"\n              onClick={() => navigate('/categories')}\n            >\n              İptal\n            </button>\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary\"\n              disabled={loading || !formik.isValid}\n            >\n              {loading ? (\n                <div className=\"flex items-center\">\n                  <Spinner size=\"sm\" color=\"white\" className=\"mr-2\" /> Kaydediliyor...\n                </div>\n              ) : (\n                'Kaydet'\n              )}\n            </button>\n          </div>\n        </form>\n      </Card>\n    </div>\n  );\n};\n\nexport default CreateCategory;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,SAAS,KAAQ,QAAQ,CAClC,MAAO,GAAK,CAAAC,GAAG,KAAM,KAAK,CAC1B,OAASC,KAAK,KAAQ,gBAAgB,CACtC,MAAO,CAAAC,UAAU,KAAM,gCAAgC,CACvD,MAAO,CAAAC,IAAI,KAAM,0BAA0B,CAC3C,MAAO,CAAAC,KAAK,KAAM,2BAA2B,CAC7C,MAAO,CAAAC,OAAO,KAAM,6BAA6B,CACjD,MAAO,CAAAC,eAAe,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7D,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACmB,KAAK,CAAEC,QAAQ,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAExC;AACA,KAAM,CAAAqB,YAAY,CAAG,CACnB,CAAEC,IAAI,CAAE,UAAU,CAAEC,KAAK,CAAE,SAAU,CAAC,CACtC,CAAED,IAAI,CAAE,OAAO,CAAEC,KAAK,CAAE,SAAU,CAAC,CACnC,CAAED,IAAI,CAAE,SAAS,CAAEC,KAAK,CAAE,SAAU,CAAC,CACrC,CAAED,IAAI,CAAE,SAAS,CAAEC,KAAK,CAAE,SAAU,CAAC,CACtC,CAED;AACA,KAAM,CAAAC,gBAAgB,CAAGpB,GAAG,CAACqB,MAAM,CAAC,CAClCH,IAAI,CAAElB,GAAG,CAACsB,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,yBAAyB,CAAC,CACtDC,KAAK,CAAExB,GAAG,CAACsB,MAAM,CAAC,CAAC,CAChBG,OAAO,CAAC,mBAAmB,CAAE,6CAA6C,CAAC,CAC3EF,QAAQ,CAAC,wBAAwB,CACtC,CAAC,CAAC,CAEF;AACA,KAAM,CAAAG,MAAM,CAAG3B,SAAS,CAAC,CACvB4B,aAAa,CAAE,CACbT,IAAI,CAAE,EAAE,CACRU,WAAW,CAAE,EAAE,CACfJ,KAAK,CAAE,SAAW;AACpB,CAAC,CACDJ,gBAAgB,CAChBS,QAAQ,CAAE,KAAO,CAAAC,MAAM,EAAK,CAC1B,GAAI,CACFhB,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CAEd;AACA,KAAM,CAAAV,eAAe,CAACyB,cAAc,CAACD,MAAM,CAAC,CAE5C;AACA7B,KAAK,CAAC+B,OAAO,CAAC,iCAAiC,CAAC,CAEhD;AACApB,QAAQ,CAAC,aAAa,CAAC,CACzB,CAAE,MAAOqB,GAAG,CAAE,CACZC,OAAO,CAACnB,KAAK,CAAC,0BAA0B,CAAEkB,GAAG,CAAC,CAC9CjB,QAAQ,CAAC,0CAA0C,CAAC,CACtD,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CACF,CAAC,CAAC,CAEF,mBACEJ,KAAA,QAAAyB,QAAA,eACE3B,IAAA,CAACN,UAAU,EACTkC,KAAK,CAAC,eAAe,CACrBR,WAAW,CAAC,kCAA6B,CACzCS,eAAe,CAAE,CACf,CAAEC,KAAK,CAAE,aAAa,CAAEC,EAAE,CAAE,aAAc,CAAC,CAC3C,CAAED,KAAK,CAAE,eAAgB,CAAC,CAC1B,CACH,CAAC,cAEF5B,KAAA,CAACP,IAAI,EAACqC,SAAS,CAAC,MAAM,CAAAL,QAAA,EACnBpB,KAAK,eACJP,IAAA,CAACJ,KAAK,EACJqC,IAAI,CAAC,OAAO,CACZC,OAAO,CAAE3B,KAAM,CACf4B,OAAO,CAAEA,CAAA,GAAM3B,QAAQ,CAAC,IAAI,CAAE,CAC9BwB,SAAS,CAAC,MAAM,CACjB,CACF,cAED9B,KAAA,SAAMmB,QAAQ,CAAEH,MAAM,CAACkB,YAAa,CAACJ,SAAS,CAAC,WAAW,CAAAL,QAAA,eACxDzB,KAAA,QAAK8B,SAAS,CAAC,uCAAuC,CAAAL,QAAA,eACpDzB,KAAA,QAAK8B,SAAS,CAAC,eAAe,CAAAL,QAAA,eAC5B3B,IAAA,UAAOqC,OAAO,CAAC,MAAM,CAACL,SAAS,CAAC,yCAAyC,CAAAL,QAAA,CAAC,qBAE1E,CAAO,CAAC,cACR3B,IAAA,UACEiC,IAAI,CAAC,MAAM,CACXK,EAAE,CAAC,MAAM,CACT5B,IAAI,CAAC,MAAM,CACXsB,SAAS,CAAE,mBACTd,MAAM,CAACqB,OAAO,CAAC7B,IAAI,EAAIQ,MAAM,CAACsB,MAAM,CAAC9B,IAAI,CACrC,mCAAmC,CACnC,EAAE,EACL,CACHC,KAAK,CAAEO,MAAM,CAACI,MAAM,CAACZ,IAAK,CAC1B+B,QAAQ,CAAEvB,MAAM,CAACwB,YAAa,CAC9BC,MAAM,CAAEzB,MAAM,CAAC0B,UAAW,CAC3B,CAAC,CACD1B,MAAM,CAACqB,OAAO,CAAC7B,IAAI,EAAIQ,MAAM,CAACsB,MAAM,CAAC9B,IAAI,eACxCV,IAAA,MAAGgC,SAAS,CAAC,2BAA2B,CAAAL,QAAA,CAAET,MAAM,CAACsB,MAAM,CAAC9B,IAAI,CAAI,CACjE,EACE,CAAC,cAENR,KAAA,QAAK8B,SAAS,CAAC,eAAe,CAAAL,QAAA,eAC5B3B,IAAA,UAAOqC,OAAO,CAAC,aAAa,CAACL,SAAS,CAAC,yCAAyC,CAAAL,QAAA,CAAC,kBAEjF,CAAO,CAAC,cACR3B,IAAA,aACEsC,EAAE,CAAC,aAAa,CAChB5B,IAAI,CAAC,aAAa,CAClBmC,IAAI,CAAE,CAAE,CACRb,SAAS,CAAC,iBAAiB,CAC3BrB,KAAK,CAAEO,MAAM,CAACI,MAAM,CAACF,WAAY,CACjCqB,QAAQ,CAAEvB,MAAM,CAACwB,YAAa,CAC/B,CAAC,EACC,CAAC,cAENxC,KAAA,QAAK8B,SAAS,CAAC,eAAe,CAAAL,QAAA,eAC5B3B,IAAA,UAAOgC,SAAS,CAAC,yCAAyC,CAAAL,QAAA,CAAC,QAE3D,CAAO,CAAC,cACRzB,KAAA,QAAK8B,SAAS,CAAC,2BAA2B,CAAAL,QAAA,EACvClB,YAAY,CAACqC,GAAG,CAAE9B,KAAK,eACtBhB,IAAA,WAEEiC,IAAI,CAAC,QAAQ,CACbD,SAAS,CAAE,2FACTd,MAAM,CAACI,MAAM,CAACN,KAAK,GAAKA,KAAK,CAACL,KAAK,CAC/B,mCAAmC,CACnC,EAAE,EACL,CACHoC,OAAO,CAAEA,CAAA,GAAM7B,MAAM,CAAC8B,aAAa,CAAC,OAAO,CAAEhC,KAAK,CAACL,KAAK,CAAE,CAAAgB,QAAA,cAE1D3B,IAAA,QACEgC,SAAS,CAAC,sBAAsB,CAChCiB,KAAK,CAAE,CAAEC,eAAe,CAAElC,KAAK,CAACL,KAAM,CAAE,CACxCiB,KAAK,CAAEZ,KAAK,CAACN,IAAK,CACd,CAAC,EAbFM,KAAK,CAACL,KAcL,CACT,CAAC,cAEFT,KAAA,QAAK8B,SAAS,CAAC,mBAAmB,CAAAL,QAAA,eAChC3B,IAAA,UACEiC,IAAI,CAAC,OAAO,CACZK,EAAE,CAAC,OAAO,CACV5B,IAAI,CAAC,OAAO,CACZC,KAAK,CAAEO,MAAM,CAACI,MAAM,CAACN,KAAM,CAC3ByB,QAAQ,CAAEvB,MAAM,CAACwB,YAAa,CAC9BV,SAAS,CAAC,qCAAqC,CAChD,CAAC,cACFhC,IAAA,SAAMgC,SAAS,CAAC,4BAA4B,CAAAL,QAAA,CACzCT,MAAM,CAACI,MAAM,CAACN,KAAK,CAChB,CAAC,EACJ,CAAC,EACH,CAAC,CACLE,MAAM,CAACqB,OAAO,CAACvB,KAAK,EAAIE,MAAM,CAACsB,MAAM,CAACxB,KAAK,eAC1ChB,IAAA,MAAGgC,SAAS,CAAC,2BAA2B,CAAAL,QAAA,CAAET,MAAM,CAACsB,MAAM,CAACxB,KAAK,CAAI,CAClE,EACE,CAAC,EACH,CAAC,cAENd,KAAA,QAAK8B,SAAS,CAAC,4BAA4B,CAAAL,QAAA,eACzC3B,IAAA,WACEiC,IAAI,CAAC,QAAQ,CACbD,SAAS,CAAC,iBAAiB,CAC3Be,OAAO,CAAEA,CAAA,GAAM3C,QAAQ,CAAC,aAAa,CAAE,CAAAuB,QAAA,CACxC,YAED,CAAQ,CAAC,cACT3B,IAAA,WACEiC,IAAI,CAAC,QAAQ,CACbD,SAAS,CAAC,iBAAiB,CAC3BmB,QAAQ,CAAE9C,OAAO,EAAI,CAACa,MAAM,CAACkC,OAAQ,CAAAzB,QAAA,CAEpCtB,OAAO,cACNH,KAAA,QAAK8B,SAAS,CAAC,mBAAmB,CAAAL,QAAA,eAChC3B,IAAA,CAACH,OAAO,EAACwD,IAAI,CAAC,IAAI,CAACrC,KAAK,CAAC,OAAO,CAACgB,SAAS,CAAC,MAAM,CAAE,CAAC,mBACtD,EAAK,CAAC,CAEN,QACD,CACK,CAAC,EACN,CAAC,EACF,CAAC,EACH,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}